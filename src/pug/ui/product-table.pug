include ../layouts/_mixins-links.pug
block variables

<!DOCTYPE html>
html(lang="ru")
	head
		meta(charset="UTF-8")
		meta(name="viewport", content="width=device-width, initial-scale=1.0")
		meta(http-equiv="X-UA-Compatible", content="ie=edge")

		//====убрать синий цвет у ссылок в сафари ========
		meta(name="format-detection" content="telephone=no")
		link(rel="stylesheet", href="../css/main.css")
		title UI-KIT

	body.body-dashboard

		include ui-navigation.pug

		block content
			.container-dashboard
				h2 Карточка продукта
				.container-dashboard__content
					
					
					.product-table
						table
							thead
								tr
									th.table-name Наименование
									th.table-price Цена за куб
									th Розницу
									th.table-count Количество
									th.table-btn
							tbody
								//ROW
								tr
									td.table-name
										label.label-hide-chebx
											input.hide-chebx(type="checkbox" name="prod1")
											span намывной песок
									td.table-price 320 руб/м3
									td 320 руб/м3
									td.table-count
										.counter
											button(type="button" disabled aria-label="Уменьшить количество").counter-minus -
											input.counter-value(type="number" value="1000" min="0")
											button(type="button" aria-label="Увеличить количество").counter-plus +
									td.table-btn 
										a(href="#!").btn Заказать
								
								//ROW
								tr
									td.table-name
										label.label-hide-chebx
											input.hide-chebx(type="checkbox" name="prod1")
											span намывной песок
									td.table-price 320 руб/м3
									td 320 руб/м3
									td.table-count
										.counter
											button(type="button" disabled aria-label="Уменьшить количество").counter-minus -
											input.counter-value(type="number" value="1000" min="0")
											button(type="button" aria-label="Увеличить количество").counter-plus +
									td.table-btn 
										a(href="#!").btn Заказать
									
		
		script.
		
			// Находим все элементы счетчика
			const counters = document.querySelectorAll('.counter');
		
			// Перебираем каждый блок счетчика
			counters.forEach((counter) => {
				const minusButton = counter.querySelector('.counter-minus'); // Кнопка уменьшения
				const plusButton = counter.querySelector('.counter-plus'); // Кнопка увеличения
				const input = counter.querySelector('.counter-value'); // Поле ввода
			
				// Обработчик клика на кнопку уменьшения
				minusButton.addEventListener('click', () => {
					let currentValue = parseInt(input.value, 10) || 0; // Получаем текущее значение
					if (currentValue > parseInt(input.min, 10)) {
					input.value = currentValue - 1; // Уменьшаем значение
					}
				});
			
				// Обработчик клика на кнопку увеличения
				plusButton.addEventListener('click', () => {
					let currentValue = parseInt(input.value, 10) || 0; // Получаем текущее значение
					input.value = currentValue + 1; // Увеличиваем значение
				});
			
				// Ограничение на ввод в поле (для соблюдения min)
				input.addEventListener('input', () => {
					let currentValue = parseInt(input.value, 10) || 0;
					if (currentValue < parseInt(input.min, 10)) {
						input.value = input.min; // Если меньше min, сбрасываем
					}
				});
			});
			